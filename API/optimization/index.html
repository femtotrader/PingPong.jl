<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Optimization · PingPong.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="PingPong.jl logo"/></a><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../">What is PingPong?</a></li></ul></li><li><a class="tocitem" href="../../types/">Types</a></li><li><a class="tocitem" href="../../strategy/">Strategies</a></li><li><span class="tocitem">Engine</span><ul><li><a class="tocitem" href="../../engine/engine/">Executors</a></li><li><a class="tocitem" href="../../engine/backtesting/">Backtesting</a></li><li><a class="tocitem" href="../../engine/paper/">Paper</a></li></ul></li><li><a class="tocitem" href="../../exchanges/">Exchanges</a></li><li><a class="tocitem" href="../../data/">Data</a></li><li><span class="tocitem">Watchers</span><ul><li><a class="tocitem" href="../../watchers/watchers/">Interface</a></li><li><input class="collapse-toggle" id="menuitem-7-2" type="checkbox"/><label class="tocitem" for="menuitem-7-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../watchers/apis/coingecko/">CoinGecko</a></li><li><a class="tocitem" href="../../watchers/apis/coinpaprika/">CoinPaprika</a></li><li><a class="tocitem" href="../../watchers/apis/coinmarketcap/">CoinMarketCap</a></li></ul></li></ul></li><li><a class="tocitem" href="../../stats/">Stats</a></li><li><a class="tocitem" href="../../optimization/">Optimization</a></li><li><a class="tocitem" href="../../plotting/">Plotting</a></li><li><span class="tocitem">Misc</span><ul><li><a class="tocitem" href="../../config/">Config</a></li><li><a class="tocitem" href="../../disambiguation/">Disambiguation</a></li><li><a class="tocitem" href="../../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../../devdocs/">Devdocs</a></li><li><a class="tocitem" href="../../contacts/">Contacts</a></li></ul></li><li><span class="tocitem">Customizations</span><ul><li><a class="tocitem" href="../../customizations/customizations/">Overview</a></li><li><a class="tocitem" href="../../customizations/orders/">Orders</a></li><li><a class="tocitem" href="../../customizations/backtest/">Backtester</a></li><li><a class="tocitem" href="../../customizations/exchanges/">Exchanges</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../collections/">Collections</a></li><li><a class="tocitem" href="../data/">Data</a></li><li><a class="tocitem" href="../executors/">Engine</a></li><li><a class="tocitem" href="../instances/">Instances</a></li><li><a class="tocitem" href="../instruments/">Instruments</a></li><li><a class="tocitem" href="../misc/">Misc</a></li><li class="is-active"><a class="tocitem" href>Optimization</a></li><li><a class="tocitem" href="../pbar/">Pbar</a></li><li><a class="tocitem" href="../plotting/">Plotting</a></li><li><a class="tocitem" href="../prices/">Prices</a></li><li><a class="tocitem" href="../processing/">Processing</a></li><li><a class="tocitem" href="../stats/">Stats</a></li><li><a class="tocitem" href="../strategies/">Strategies</a></li><li><input class="collapse-toggle" id="menuitem-13-14" type="checkbox"/><label class="tocitem" for="menuitem-13-14"><span class="docs-label">Analysis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../analysis/analysis/">Analysis</a></li><li><a class="tocitem" href="../analysis/mlong/">MLong</a></li><li><a class="tocitem" href="../analysis/mshort/">MShort</a></li><li><a class="tocitem" href="../analysis/mvp/">MVP</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>Optimization</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Optimization</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/panifie/PingPong.jl/blob/master/docs/src/API/optimization.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Optimization"><a class="docs-heading-anchor" href="#Optimization">Optimization</a><a id="Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Optimization" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Optimization.OptSession18" href="#Optimization.OptSession18"><code>Optimization.OptSession18</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An optimization session stores all the evaluated parameters combinations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlackBoxOptim.bboptimize-Tuple{Strategies.SimStrategy}" href="#BlackBoxOptim.bboptimize-Tuple{Strategies.SimStrategy}"><code>BlackBoxOptim.bboptimize</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Optimize parameters using the BlackBoxOptim package.</p><ul><li><code>repeats</code>: how many times to run the backtest for each step</li><li><code>seed</code>: random seed</li><li><code>kwargs</code>: The arguments to pass to the underlying BBO function. See the docs for the BlackBoxOptim package. Here are some most common parameters:<ul><li><code>MaxTime</code>: max evaluation time for the optimization</li><li><code>MaxFuncEvals</code>: max number of function (backtest) evaluation</li><li><code>TraceMode</code>: (:silent, :compact, :verbose) controls the logging</li><li><code>MaxSteps</code>, <code>MaxStepsWithoutProgress</code></li></ul></li></ul><p>From within your strategy define four <code>ping!</code> functions:</p><ul><li><code>ping!(::Strategy, ::OptSetup)</code>: for the period of time to evaluate and the parameters space for the optimization..</li><li><code>ping!(::Strategy, params, ::OptRun)</code>: called before running the backtest, should apply the parameters to the strategy</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/bbopt.jl#L70-L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization._multi_opt_func-NTuple{4, Any}" href="#Optimization._multi_opt_func-NTuple{4, Any}"><code>Optimization._multi_opt_func</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Multi(threaded) optimization function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L278">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization._single_opt_func-Tuple{Any, Any, Any, Vararg{Any}}" href="#Optimization._single_opt_func-Tuple{Any, Any, Any, Vararg{Any}}"><code>Optimization._single_opt_func</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Single(threaded) optimization function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L293">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.bbomethods" href="#Optimization.bbomethods"><code>Optimization.bbomethods</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get a filtered list of methods supported by BBO (single or multi).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/bbopt.jl#L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.define_median_func-Tuple{Any}" href="#Optimization.define_median_func-Tuple{Any}"><code>Optimization.define_median_func</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The median in multi(objective) mode has to be applied over all the (repeated) iterations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L300">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.delete_sessions!-Tuple{String}" href="#Optimization.delete_sessions!-Tuple{String}"><code>Optimization.delete_sessions!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Clear all optimization session of a strategy. <code>keep_by</code>: will not delete sessions that match this attributes (<code>Dict{String, Any}</code>).     - <code>ctx</code>: the <code>Context</code> of the optimization session     - <code>params</code>: the params (<code>NamedTuple</code>) of the optimization session     - <code>attrs</code>: the config (<code>NamedTuple</code>) of the optimization session</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L386-L392">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.gridsearch-Tuple{Strategies.SimStrategy}" href="#Optimization.gridsearch-Tuple{Strategies.SimStrategy}"><code>Optimization.gridsearch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Backtests the strategy across combination of parameters. <code>s</code>: The strategy. <code>seed</code>: random seed set before each backtest run. <code>repeats</code>: the amount of repetitions for each combination. <code>save_freq</code>: how frequently (<code>Period</code>) to save results, when <code>nothing</code> (default) saving is skipped. <code>logging</code>: enabled logging <code>doshuffle</code>: shuffle parameters combinations before iterations (random search)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/grid.jl#L127-L135">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.load_session" href="#Optimization.load_session"><code>Optimization.load_session</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Load an optimization session from storage, name:</p><ul><li><code>name</code>: strategy name</li><li><code>start/stop</code>: start and stop date of the backtesting context</li><li><code>params_k</code>: the first letter of every param (<code>first.(string.(keys(sess.params)))</code>)</li><li><code>code</code>: hash of <code>params</code> and <code>attrs</code> truncated to 4 chars.</li></ul><p>Only the strategy name is required, rest is optional.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L159-L167">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.objectives-Tuple{Any}" href="#Optimization.objectives-Tuple{Any}"><code>Optimization.objectives</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the number of objectives and their type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L317">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.optsessions-Tuple{String}" href="#Optimization.optsessions-Tuple{String}"><code>Optimization.optsessions</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the zarrays storing all the optimization session over the specified zarrinstance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L376">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.progsearch-Tuple{Any}" href="#Optimization.progsearch-Tuple{Any}"><code>Optimization.progsearch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>A progressive search performs multiple grid searches with only 1 repetition per parameters combination. After each search is completed, the results are filtered according to custom rules. The parameters from the results that match the filtering will be backtested again with a different <code>offset</code> which modifies the backtesting period. <code>rounds</code>: how many iterations (of grid searches) to perform <code>sess</code>: If a <code>Ref{&lt;:OptSession}</code> is provided, search will resume from the session previous results <code>halve</code>: At each iteration</p><p>Additional kwargs are forwarded to the grid search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/grid.jl#L281-L290">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.remove_incomplete!-Tuple{Optimization.OptSession18}" href="#Optimization.remove_incomplete!-Tuple{Optimization.OptSession18}"><code>Optimization.remove_incomplete!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Remove results that don&#39;t have all the <code>repeat</code>ed evalutaion.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/grid.jl#L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.result_params" href="#Optimization.result_params"><code>Optimization.result_params</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Fetch the named tuple of a single parameters combination.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L324">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.save_session-Tuple{Optimization.OptSession18}" href="#Optimization.save_session-Tuple{Optimization.OptSession18}"><code>Optimization.save_session</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Save the optimization session over the provided zarr instance.</p><p><code>sess</code>: the <code>OptSession</code> <code>from</code>: save the optimization results starting from the specified index (when saving progressively) <code>to</code>: save the optimization results up to the specified index (when saving progressively)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L118-L124">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Optimization.slidesearch-Tuple{Strategies.Strategy}" href="#Optimization.slidesearch-Tuple{Strategies.Strategy}"><code>Optimization.slidesearch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Backtests by sliding over the backtesting period, by the smallest timeframe (the strategy timeframe). Until a full range of timeframes is reached between the strategy timeframe and backtesting context timeframe. <code>multiplier</code>: the steps count (total stepps will be <code>multiplier * context_timeframe / s.timeframe</code> )</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/grid.jl#L319-L323">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Strategies.ping!-Tuple{Strategies.Strategy, Any, Executors.OptRun}" href="#Strategies.ping!-Tuple{Strategies.Strategy, Any, Executors.OptRun}"><code>Strategies.ping!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This ping function should apply the parameters to the strategy, called before the backtest is performed. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Strategies.ping!-Tuple{Strategies.Strategy, Executors.OptSetup}" href="#Strategies.ping!-Tuple{Strategies.Strategy, Executors.OptSetup}"><code>Strategies.ping!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Has to return a <code>Optimizations.ContextSpace</code> named tuple where <code>ctx</code> (<code>Executors.Context</code>) is the time period to backtest and the <code>space</code> is either an already constructed subtype of <code>BlackBoxOptim.SearchSpace</code> or a tuple (<code>Symbol</code>, args...) for a search space pre-defined within the BBO package.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/748c39c1c45f1de21c79fbfabd3729ef8dc6540e/Optimization/src/optimization.jl#L22-L25">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../misc/">« Misc</a><a class="docs-footer-nextpage" href="../pbar/">Pbar »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 7 July 2023 09:29">Friday 7 July 2023</span>. Using Julia version 1.10.0-alpha1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
