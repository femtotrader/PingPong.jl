<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Executors · PingPong.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="PingPong.jl logo"/></a><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../types/">Types</a></li><li><a class="tocitem" href="../../strategy/">Strategies</a></li><li><span class="tocitem">Engine</span><ul><li class="is-active"><a class="tocitem" href>Executors</a></li><li><a class="tocitem" href="../backtesting/">Backtesting</a></li></ul></li><li><a class="tocitem" href="../../exchanges/">Exchanges</a></li><li><a class="tocitem" href="../../data/">Data</a></li><li><a class="tocitem" href="../../processing/">Processing</a></li><li><span class="tocitem">Watchers</span><ul><li><a class="tocitem" href="../../watchers/watchers/">Interface</a></li><li><input class="collapse-toggle" id="menuitem-8-2" type="checkbox"/><label class="tocitem" for="menuitem-8-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../watchers/apis/coingecko/">CoinGecko</a></li><li><a class="tocitem" href="../../watchers/apis/coinpaprika/">CoinPaprika</a></li><li><a class="tocitem" href="../../watchers/apis/coinmarketcap/">CoinMarketCap</a></li></ul></li></ul></li><li><a class="tocitem" href="../../stats/">Stats</a></li><li><a class="tocitem" href="../../plotting/">Plotting</a></li><li><a class="tocitem" href="../../analysis/">Indicators</a></li><li><span class="tocitem">Misc</span><ul><li><a class="tocitem" href="../../misc/">Config</a></li><li><a class="tocitem" href="../../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../../devdocs/">Devdocs</a></li><li><a class="tocitem" href="../../contacts/">Contacts</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Engine</a></li><li class="is-active"><a href>Executors</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Executors</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/panifie/PingPong.jl/blob/master/docs/src/engine/engine.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Engine"><a class="docs-heading-anchor" href="#Engine">Engine</a><a id="Engine-1"></a><a class="docs-heading-anchor-permalink" href="#Engine" title="Permalink"></a></h1><p>Within the PingPong &quot;model&quot; we use <em>ping!</em> and <em>pong!</em> functions to communicate between <em>strategies</em> and <em>executors</em>. The executor &quot;pings&quot; the strategy, impliying that the strategy should do, or return something. The strategy instead &quot;pongs&quot; the executor, expecting it to do, or return something.</p><p>The user of the bot, generally, only writes <code>ping!</code> functions within their strategies. In the case the user requires custom behaviour that is not implemented by the framework, they might be required to write <code>pong!</code> functions.</p><p>Other trading bots offer a set of methods that the user can implement for tuning purposes, usually tied to the super class of the strategy.  Within PingPong instead, our convention is to only deal with <code>ping!</code> and <code>pong!</code> functions, such that you know that whenever a <em>pong!</em> call is done from the strategy, that is a point of possible divergence between simulation and live execution.</p><p>In fact, ping and pong functions are implemented such that they dispatch differently according to the execution mode of the strategy.</p><p>There are 3 execution modes: </p><ul><li><code>Sim</code>: what the backtester uses to run the simulations</li><li><code>Paper</code>: the dry run mode, that runs the bot like it would in live, working with live data feeds and simulating order execution with live prices.</li><li><code>Live</code>: like <code>Paper</code> but with order execution being actually forwarded to CCXT.</li></ul><p>Therefore if the strategy is instantiated in <code>Sim</code> mode, calling <code>pong!(s, ...)</code>, where s is the strategy object of type <code>Strategy{Sim, S, E}</code>, the <code>pong!</code> function will dispatch to the <code>Sim</code> execution method. <code>S</code> and <code>E</code> are the other two parameters which a strategy type requires for concretization.</p><ul><li><code>S&lt;:Symbol</code>: the symbol that matches the module name of the strategy, like <code>:Example</code></li><li><code>E&lt;:ExchangeID</code>: The symbol <em>already checked</em> to match a valid CCXT exchange, which will be the exchange that the strategy will operate on.</li></ul><p>To realize the <code>pong!</code> dispatch convention, you can expect the first argument of every pong function to be the strategy object itself, while ping function might have either the strategy object or the type of the strategy as first argument (<code>Type{Strategy{...}}</code>).</p><h3 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Base.fill!-Tuple{Collections.AssetCollection, Vararg{Any}}" href="#Base.fill!-Tuple{Collections.AssetCollection, Vararg{Any}}"><code>Base.fill!</code></a> — <span class="docstring-category">Method</span></header><section><div><p><a href="#Base.fill!-Tuple{Collections.AssetCollection, Vararg{Any}}"><code>Main.Engine.Instances.fill!</code></a> all the instances with given timeframes data...</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Engine/src/types/datahandlers.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.fill!-Tuple{Instances.AssetInstance50, Vararg{Any}}" href="#Base.fill!-Tuple{Instances.AssetInstance50, Vararg{Any}}"><code>Base.fill!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Pulls data from storage, or resample from the shortest timeframe available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Engine/src/types/datahandlers.jl#L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Data.stub!-Tuple{Collections.AssetCollection, Any}" href="#Data.stub!-Tuple{Collections.AssetCollection, Any}"><code>Data.stub!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Replaces the data of the asset instances with <code>src</code> which should be a mapping. Used for backtesting.</p><p><code>src</code>: The mapping, should be a pair <code>TimeFrame =&gt; Dict{String, PairData}</code>.</p><p>Example:</p><pre><code class="language-julia hljs">using Scrapers.BinanceData as bn
using Strategies
using Exchanges
setexchange!(:binanceusdm)
cfg = Config(nameof(exc.id))
strat = strategy!(:Example, cfg)
data = bn.binanceload()
stub!(strat.universe, data)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Engine/src/types/datahandlers.jl#L4-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Instances.AssetInstance50" href="#Instances.AssetInstance50"><code>Instances.AssetInstance50</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An asset instance holds all known state about an asset, i.e. <code>BTC/USDT</code>:</p><ul><li><code>asset</code>: the identifier</li><li><code>data</code>: ohlcv series</li><li><code>history</code>: the trade history of the pair</li><li><code>cash</code>: how much is currently held, can be positive or negative (short)</li><li><code>exchange</code>: the exchange instance that this asset instance belongs to.</li><li><code>limits</code>: minimum order size (from exchange)</li><li><code>precision</code>: number of decimal points (from exchange)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Instances/src/instances.jl#L19-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.similar-Tuple{Instances.AssetInstance50}" href="#Base.similar-Tuple{Instances.AssetInstance50}"><code>Base.similar</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns a similar asset instance with cash and orders reset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Instances/src/instances.jl#L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Data.candlelast-Tuple{Instances.AssetInstance50, TimeFrames.TimeFrame, Dates.DateTime}" href="#Data.candlelast-Tuple{Instances.AssetInstance50, TimeFrames.TimeFrame, Dates.DateTime}"><code>Data.candlelast</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the last available candle strictly lower than <code>apply(tf, date)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Instances/src/instances.jl#L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Instances.load!-Tuple{Instances.AssetInstance50}" href="#Instances.load!-Tuple{Instances.AssetInstance50}"><code>Instances.load!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Load ohlcv data of asset instance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Instances/src/instances.jl#L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Collections.AssetCollection" href="#Collections.AssetCollection"><code>Collections.AssetCollection</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A collection of assets instances, indexed by asset and exchange identifiers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Collections/src/collections.jl#L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TimeTicks.DateRange" href="#TimeTicks.DateRange"><code>TimeTicks.DateRange</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Makes a daterange that spans the common min and max dates of the collection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Collections/src/collections.jl#L153">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Collections.bqe-Union{Tuple{T}, Tuple{DataFrames.DataFrame, T, T, T}} where T&lt;:Symbol" href="#Collections.bqe-Union{Tuple{T}, Tuple{DataFrames.DataFrame, T, T, T}} where T&lt;:Symbol"><code>Collections.bqe</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Dispatch based on either base, quote currency, or exchange.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Collections/src/collections.jl#L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Collections.flatten-Tuple{Collections.AssetCollection}" href="#Collections.flatten-Tuple{Collections.AssetCollection}"><code>Collections.flatten</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns a Dict{TimeFrame, DataFrame} of all the OHLCV dataframes present in the asset collection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Collections/src/collections.jl#L141">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Collections.iscashable-Tuple{Instruments.Cash10, Collections.AssetCollection}" href="#Collections.iscashable-Tuple{Instruments.Cash10, Collections.AssetCollection}"><code>Collections.iscashable</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Checks that all assets in the universe match the cash.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/c9213b2434c7a9abc118fbc42edc65fe9cf94825/Collections/src/collections.jl#L177">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../strategy/">« Strategies</a><a class="docs-footer-nextpage" href="../backtesting/">Backtesting »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Saturday 22 April 2023 12:14">Saturday 22 April 2023</span>. Using Julia version 1.9.0-rc2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
